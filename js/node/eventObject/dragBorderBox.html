<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>drag border box</title>

    <script src="../elt.js"></script>
    <script>
        window.onload = () => {
            // create border box
            var box = elt("div", null, "Javascript");
            document.body.appendChild(box);

            // 마우스를 press한 상대 위치를 저장하는 변수
            var boxOffsetX, boxOffsetY;

            // border box setting
            box.style.display = "inline-block";
            box.style.position = "absolute";
            box.style.padding = "10px";
            box.style.backgroundColor = "blue";
            box.style.color = "white";
            box.style.cursor = "pointer";

            // mousedown 이벤트 리스너 등록
            box.addEventListener("mousedown", function mouseDownListener(e) {
                // mousemove 이벤트 리스너를 등록
                document.addEventListener("mousemove", mouseMoveListener, false);

                // 마우스를 press한 상대 위치를 저장
                boxOffsetX = e.offsetX;
                boxOffsetY = e.offsetY;
                console.log(boxOffsetX, boxOffsetY);
            }, false);

            // mouseup 이벤트 리스너를 등록
            document.addEventListener("mouseup", function mouseUpListener(e) {
                // mousemove 이벤트 리스너를 제거
                document.removeEventListener("mousemove", mouseMoveListener, false);
            }, false);

            // mousemove 이벤트 리스너
            function mouseMoveListener(e) {
                // 마우스로 press한 위치를 드래그한다.
                box.style.left = e.pageX - boxOffsetX + "px";
                box.style.top  = e.pageY - boxOffsetY + "px";
                //console.log(box.style.left, box.style.top);
            }
        };
    </script>
</head>

<body>
</body>

</html>